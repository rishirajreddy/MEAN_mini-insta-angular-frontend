<h1 mat-dialog-title>{{mode === 'add' ? 'Add Profile':'Edit Profile'}}</h1>

<!-- add-profile-form -->
<form
    *ngIf="mode === 'add'"
    [formGroup]="myForm"
    (ngSubmit)="onSaveProfile()"
>
<div mat-dialog-content>
  <mat-form-field >
    <mat-label>Name</mat-label>
    <input 
    matInput
    type="text"
    formControlName = "name"
    placeholder="Enter your name"
    >
  </mat-form-field>
  <mat-form-field >
    <mat-label>Bio</mat-label>
    <textarea 
    matInput
    type="text"
    formControlName="bio"
    placeholder="Enter bio"
    >
    </textarea>
  </mat-form-field>
  <div>
    <button  mat-stroked-button type="button" (click)="pickFile.click()">Pick Profile Image</button>
    <input hidden type="file" #pickFile (change)="onImageSelected($event)">
  </div>
  <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && myForm.controls['image'].valid">
    <img [src]="imagePreview">
</div>
</div>
<div mat-dialog-actions>
  <button 
  type="button"
  mat-button (click)="onNoClick()">Cancel</button>
  <button
  type="submit" 
  mat-button  
  cdkFocusInitial>Add</button>
</div>
</form>

<!-- edit-profile-form -->
<form
    *ngIf="mode === 'edit'"
    [formGroup]="myForm"
    (ngSubmit)="onSaveProfile()"
>
<div mat-dialog-content>
    <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && myForm.controls['image'].valid">
        <img [src]="imagePreview">
    </div>
    <div>
        <button  mat-stroked-button type="button" (click)="pickFile.click()">Change Profile Image</button>
        <input hidden type="file" #pickFile (change)="onImageSelected($event)">
      </div>

  <mat-form-field >
    <mat-label>Name</mat-label>
    <input 
    matInput
    type="text"
    formControlName = "name"
    placeholder="Enter your name"
    >
  </mat-form-field>
  <mat-form-field >
    <mat-label>Bio</mat-label>
    <textarea 
    matInput
    type="text"
    formControlName="bio"
    placeholder="Enter bio"
    >
    </textarea>
  </mat-form-field>
  
</div>
<div mat-dialog-actions>
  <button 
  type="button"
  mat-button (click)="onNoClick()">Cancel</button>
  <button
  type="submit" 
  mat-button  
  cdkFocusInitial>Submit</button>
</div>
</form>